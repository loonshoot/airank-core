{
  "commonFields": {
    "factType": {
      "type": "string",
      "description": "Type of fact (e.g., search_impression, page_view)"
    },
    "property": {
      "type": "string",
      "description": "Property identifier (e.g., website domain, app name)"
    },
    "entityId": {
      "type": "string",
      "description": "ID of the entity this fact relates to (e.g., page URL, content ID)"
    },
    "entityType": {
      "type": "string",
      "description": "Type of entity (e.g., page, post, product)"
    },
    "value": {
      "type": "number",
      "description": "Numerical value of the fact"
    },
    "dateRange": {
      "type": "object",
      "description": "Time range for the fact",
      "properties": {
        "from": {
          "type": "date",
          "description": "Start date"
        },
        "to": {
          "type": "date",
          "description": "End date"
        }
      }
    },
    "location": {
      "type": "object",
      "description": "Geographic location data",
      "properties": {
        "country": {
          "type": "string",
          "description": "Country code"
        },
        "region": {
          "type": "string",
          "description": "Region/state"
        },
        "city": {
          "type": "string",
          "description": "City name"
        }
      }
    },
    "dimensions": {
      "type": "object",
      "description": "Additional dimension data for segmentation"
    },
    "period": {
      "type": "string",
      "description": "Time period granularity (e.g., daily, weekly, monthly)"
    },
    "source": {
      "type": "string",
      "description": "Source system or service name"
    },
    "metadata": {
      "type": "object",
      "description": "Additional metadata"
    },
    "externalIds": {
      "type": "object",
      "description": "External system identifiers"
    }
  },
  "sources": {
    "googleSearchConsole": {
      "priority": 1,
      "uniqueIdentifiers": ["id", "factType", "property", "entityId", "dateRange", "dimensions"]
    },
    "googleAnalyticsV1": {
      "priority": 2,
      "uniqueIdentifiers": ["id", "factType", "property", "entityId", "dateRange", "dimensions"]
    }
  },
  "mergeRules": {
    "confidenceThreshold": 0.8,
    "matchingCriteria": [
      "factType",
      "property",
      "entityId",
      "dateRange.from",
      "dateRange.to",
      "dimensions",
      "period"
    ]
  }
} 