{
    "provider": "salesforce",
    "version": "1",
    "externalIdKey": "salesforce",
    "idFields": ["Id", "id", "externalId"],
    "supportsDestination": true,
    "features": {
        "pubsub": {
            "enabled": false,
            "autoDetect": true,
            "endpoints": {
                "channels": "/services/data/v58.0/event/eventChannels",
                "topics": "/services/data/v58.0/event/eventSchemas"
            },
            "supportedEditions": [
                "Enterprise",
                "Unlimited",
                "Performance"
            ],
            "fallback": {
                "enabled": true,
                "pollingIntervalMinutes": 15
            }
        }
    },
    "destinationRateLimits": {
        "requestsPerInterval": 10,
        "intervalMs": 1000
    },
    "destinationMapping": {
        "people": {
            "availableFields": [
                "emailAddress",
                "firstName",
                "lastName",
                "phoneNumbers",
                "jobTitle",
                "company"
            ],
            "requiredFields": ["emailAddress"],
            "defaultFields": ["emailAddress", "firstName", "lastName"]
        },
        "organizations": {
            "availableFields": [
                "companyName",
                "domain",
                "website",
                "country",
                "industry",
                "description"
            ],
            "requiredFields": ["companyName"],
            "defaultFields": ["companyName", "domain"]
        }
    },
    "rateLimits": {
        "search": {
            "requestsPerInterval": 5,
            "intervalMs": 1000
        },
        "default": {
            "requestsPerInterval": 100,
            "intervalMs": 10000
        }
    },
    "defaultBatchConfig": {
        "backfillDays": 30,
        "pollingIntervalMinutes": 60
    },
    "sourceType": "salesforce",
    "recordPath": "record",
    "objectTypeMapping": {
        "people": ["Contact"],
        "organizations": ["Account"],
        "products": [
            "PricebookEntry",
            "Product2"
        ],
        "relationship": ["ContactOrganizationRelationship", "ContactContactRelationship", "OrganizationOrganizationRelationship", "OrganizationContactRelationship"]
    },
    "defaultConfig": {
        "primaryId": "Id",
        "fields": {}
    },
    "indexConfig": {
        "common": [
            { "externalIds.salesforce.id": 1, "options": { "background": true, "sparse": true } },
            { "externalIds.salesforce.id": 1, "options": { "background": true, "sparse": true } }
        ],
        "people": [
            { "emailAddress": 1, "options": { "background": true, "sparse": true } },
            { "phoneNumbers.number": 1, "options": { "background": true, "sparse": true } }
        ],
        "organizations": [
            { "companyName": 1, "options": { "background": true, "sparse": true } },
            { "domain": 1, "options": { "background": true, "sparse": true } }
        ],
        "relationships": [
            { "source.id": 1, "target.id": 1, "options": { "background": true } },
            { "metadata.sourceEntityType": 1, "metadata.targetEntityType": 1, "options": { "background": true } }
        ]
    },
    "consolidationMapping": {
        "Contact": {
            "id": "Id",
            "email": "Email",
            "firstName": "FirstName",
            "lastName": "LastName",
            "phone": "Phone",
            "mobilePhone": "MobilePhone",
            "address": "MailingAddress",
            "city": "MailingCity",
            "state": "MailingState",
            "country": "MailingCountry",
            "jobTitle": "Title",
            "createdAt": "CreatedDate",
            "updatedAt": "LastModifiedDate",
            "accountId": "AccountId"
        },
        "Account": {
            "id": "Id",
            "name": "Name",
            "website": "Website",
            "phone": "Phone",
            "address": "BillingAddress",
            "city": "BillingCity",
            "state": "BillingState", 
            "country": "BillingCountry",
            "postalCode": "BillingPostalCode",
            "industry": "Industry",
            "description": "Description",
            "numberOfEmployees": "NumberOfEmployees",
            "annualRevenue": "AnnualRevenue",
            "createdAt": "CreatedDate",
            "updatedAt": "LastModifiedDate"
        },
        "PricebookEntry": {
            "id": "Id",
            "name": "Name",
            "productId": "Product2Id",
            "pricebookId": "Pricebook2Id",
            "unitPrice": "UnitPrice",
            "isActive": "IsActive",
            "useStandardPrice": "UseStandardPrice",
            "createdAt": "CreatedDate",
            "updatedAt": "LastModifiedDate"
        },
        "ContactOrganizationRelationship": {
            "id": "id",
            "sourceId": "source.id",
            "sourceExternalId": "source.externalId",
            "targetId": "target.id",
            "targetExternalId": "target.externalId",
            "relationshipType": "people_to_organization",
            "metadata": {
                "sourceType": "salesforce",
                "nativeRelationshipType": "employment"
            },
            "externalIds": {
                "salesforce": "id"
            }
        },
        "people": [
            {
                "sourceObjectType": "Contact",
                "metadata": {
                    "sourceType": "salesforce",
                    "lastSourceType": "salesforce"
                }
            },
            {
                "sourceObjectType": "Lead",
                "metadata": {
                    "sourceType": "salesforce",
                    "lastSourceType": "salesforce"
                }
            },
            {
                "sourceObjectType": "User",
                "metadata": {
                    "sourceType": "salesforce",
                    "lastSourceType": "salesforce"
                }
            }
        ],
        "organizations": [
            {
                "sourceObjectType": "Account",
                "metadata": {
                    "sourceType": "salesforce",
                    "lastSourceType": "salesforce"
                }
            }
        ]
    },
    "objects": {
        "Contact": {
            "primaryId": "Id",
            "fields": {},
            "peopleMapping": {
                "emailAddress": "Email",
                "firstName": "FirstName",
                "lastName": "LastName",
                "phoneNumbers": [
                    {
                        "number": "Phone",
                        "phoneType": "work"
                    },
                    {
                        "number": "MobilePhone",
                        "phoneType": "mobile"
                    }
                ],
                "addresses": [
                    {
                        "addressType": "work",
                        "country": "MailingCountry",
                        "state": "MailingState",
                        "city": "MailingCity",
                        "street1": "MailingStreet",
                        "postalCode": "MailingPostalCode"
                    }
                ],
                "associations": {
                    "organization": {
                        "id": "AccountId",
                        "displayName": "Name"
                    }
                },
                "externalIds": {
                    "salesforce": [
                        {
                            "id": "Id",
                            "label": "Contact ID",
                            "type": "contact"
                        }
                    ]
                }
            }
        },
        "Account": {
            "primaryId": "Id",
            "fields": {},
            "organizationsMapping": {
                "companyName": "Name",
                "domain": "Website",
                "website": "Website",
                "country": "BillingCountry",
                "industry": "Industry",
                "description": "Description",
                "phoneNumbers": [
                    {
                        "number": "Phone",
                        "phoneType": "work"
                    }
                ],
                "addresses": [
                    {
                        "addressType": "billing",
                        "country": "BillingCountry",
                        "state": "BillingState",
                        "city": "BillingCity", 
                        "street1": "BillingStreet",
                        "postalCode": "BillingPostalCode"
                    }
                ],
                "externalIds": {
                    "salesforce": [
                        {
                            "id": "Id",
                            "label": "Account ID",
                            "type": "account"
                        }
                    ]
                }
            }
        },
        "ContactOrganizationRelationship": {
            "primaryId": "id",
            "entityA": {
                "type": "person",
                "idField": "source.id",
                "externalIdField": "source.externalId"
            },
            "entityB": {
                "type": "organization",
                "idField": "target.id",
                "externalIdField": "target.externalId"
            },
            "relationshipMapping": {
                "relationshipType": "people_to_organization",
                "metadata": {
                    "sourceType": "salesforce",
                    "nativeRelationshipType": "ContactOrganizationRelationship"
                },
                "externalIds": {
                    "salesforce": "id"
                }
            }
        },
        "OrganizationOrganizationRelationship": {
            "primaryId": "id",
            "entityA": {
                "type": "organization",
                "idField": "source.id",
                "externalIdField": "source.externalId"
            },
            "entityB": {
                "type": "organization",
                "idField": "target.id",
                "externalIdField": "target.externalId"
            },
            "relationshipMapping": {
                "relationshipType": "organization_to_organization",
                "metadata": {
                    "sourceType": "salesforce",
                    "nativeRelationshipType": "OrganizationOrganizationRelationship"
                },
                "externalIds": {
                    "salesforce": "id"
                }
            }
        },
        "OrganizationContactRelationship": {
            "primaryId": "id",
            "entityA": {
                "type": "organization",
                "idField": "source.id",
                "externalIdField": "source.externalId"
            },
            "entityB": {
                "type": "person",
                "idField": "target.id",
                "externalIdField": "target.externalId"
            },
            "relationshipMapping": {
                "relationshipType": "organization_to_people",
                "metadata": {
                    "sourceType": "salesforce",
                    "nativeRelationshipType": "OrganizationContactRelationship"
                },
                "externalIds": {
                    "salesforce": "id"
                }
            }
        },
        "ContactContactRelationship": {
            "primaryId": "id",
            "entityA": {
                "type": "person",
                "idField": "source.id",
                "externalIdField": "source.externalId"
            },
            "entityB": {
                "type": "person",
                "idField": "target.id",
                "externalIdField": "target.externalId"
            },
            "relationshipMapping": {
                "relationshipType": "people_to_people",
                "metadata": {
                    "sourceType": "salesforce",
                    "nativeRelationshipType": "ContactContactRelationship"
                },
                "externalIds": {
                    "salesforce": "id"
                }
            }
        },
        "PricebookEntry": {
            "primaryId": "Id",
            "fields": {},
            "productMapping": {
                "name": "Name",
                "price": "UnitPrice",
                "isActive": "IsActive",
                "productId": "Product2Id",
                "pricebookId": "Pricebook2Id"
            }
        }
    },
    "pubsubChannels": {
        "standardObjects": [
            "/data/ChangeEvents",
            "/event/AccountChangeEvent",
            "/event/ContactChangeEvent",
            "/event/OpportunityChangeEvent",
            "/event/LeadChangeEvent",
            "/event/CaseChangeEvent"
        ],
        "customEvents": []
    },
    "indexes": [
        { "key": { "integrationId": 1 }, "options": { "background": true } },
        { "key": { "workspaceId": 1 }, "options": { "background": true } },
        { "key": { "sourceId": 1 }, "options": { "background": true } },
        { "key": { "workspaceId": 1, "sourceId": 1 }, "options": { "background": true } },
        { "key": { "updatedAt": 1 }, "options": { "background": true } },
        { "key": { "type": 1 }, "options": { "background": true } },
        { "key": { "workspaceId": 1, "sourceId": 1, "type": 1 }, "options": { "background": true } },
        { "key": { "sourceObjectType": 1 }, "options": { "background": true } },
        { "key": { "externalIds.salesforce.id": 1 }, "options": { "background": true, "sparse": true } }
    ]
} 